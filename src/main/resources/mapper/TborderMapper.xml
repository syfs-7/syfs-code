<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zpark.mapper.TborderMapper">
	<resultMap id="BaseResultMap" type="com.zpark.pojo.Tborder">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jun 25 
			17:26:11 CST 2019. -->
		<id column="id" jdbcType="INTEGER" property="id" />
		<result column="submittime" jdbcType="TIMESTAMP"
			property="submittime" />
		<result column="userid" jdbcType="INTEGER" property="userid" />
		<result column="amount" jdbcType="DOUBLE" property="amount" />
		<result column="payment" jdbcType="VARCHAR" property="payment" />
		<result column="source" jdbcType="VARCHAR" property="source" />
		<result column="orderstatus" jdbcType="INTEGER"
			property="orderstatus" />
		<result column="orderno" jdbcType="VARCHAR" property="orderno" />
		<result column="receiver" jdbcType="VARCHAR"
			property="receiver" />
		<result column="tel" jdbcType="VARCHAR" property="tel" />
		<result column="receiverAddr" jdbcType="VARCHAR"
			property="receiveraddr" />
	</resultMap>
	<delete id="deleteByPrimaryKey"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jun 25 
			17:26:11 CST 2019. -->
		delete from tborder
		where id = #{id,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="com.zpark.pojo.Tborder">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jun 25 
			17:26:11 CST 2019. -->
		insert into tborder (id, submittime, userid,
		amount, payment, source,
		orderstatus, orderno, receiver,
		tel, receiverAddr)
		values
		(#{id,jdbcType=INTEGER}, #{submittime,jdbcType=TIMESTAMP},
		#{userid,jdbcType=INTEGER},
		#{amount,jdbcType=DOUBLE},
		#{payment,jdbcType=VARCHAR}, #{source,jdbcType=VARCHAR},
		#{orderstatus,jdbcType=INTEGER}, #{orderno,jdbcType=VARCHAR},
		#{receiver,jdbcType=VARCHAR},
		#{tel,jdbcType=VARCHAR},
		#{receiveraddr,jdbcType=VARCHAR})
	</insert>
	<update id="updateByPrimaryKey"
		parameterType="com.zpark.pojo.Tborder">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jun 25 
			17:26:11 CST 2019. -->
		update tborder
		set submittime = #{submittime,jdbcType=TIMESTAMP},
		userid = #{userid,jdbcType=INTEGER},
		amount =
		#{amount,jdbcType=DOUBLE},
		payment = #{payment,jdbcType=VARCHAR},
		source = #{source,jdbcType=VARCHAR},
		orderstatus =
		#{orderstatus,jdbcType=INTEGER},
		orderno = #{orderno,jdbcType=VARCHAR},
		receiver = #{receiver,jdbcType=VARCHAR},
		tel = #{tel,jdbcType=VARCHAR},
		receiverAddr = #{receiveraddr,jdbcType=VARCHAR}
		where id =
		#{id,jdbcType=INTEGER}
	</update>
	<select id="selectByPrimaryKey"
		parameterType="java.lang.Integer" resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jun 25 
			17:26:11 CST 2019. -->
		select id, submittime, userid, amount, payment, source, orderstatus,
		orderno, receiver,
		tel, receiverAddr
		from tborder
		where id =
		#{id,jdbcType=INTEGER}
	</select>
	<select id="selectAll" resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jun 25 
			17:26:11 CST 2019. -->
		select id, submittime, userid, amount, payment, source, orderstatus,
		orderno, receiver,
		tel, receiverAddr
		from tborder
	</select>

	<!-- 自定义查询语句 -->
	<select id="selectAllOrderByPage"
		parameterType="com.zpark.pojo.Tborder" resultMap="orderResultMap">
		select
		tbo.id,tbo.orderno,tbo.submittime,tbo.userid,tbu.username,tbo.amount,tbo.payment,tbo.source,tbo.orderstatus,tbo.receiver,tbo.tel,receiveraddr
		from tborder tbo join tbuser tbu on tbo.userid=tbu.id
		<include refid="orderColumns"></include>

	</select>

	<sql id="orderColumns">
		<where>
			<if test="orderno!=null and orderno!=''">
				and tbo.orderno = #{orderno}
			</if>
			<if test="orderstatus!=-1">
				and tbo.orderstatus = #{orderstatus}
			</if>

			<if test="source!=null and source!='' and source!='-1'">
				and tbo.source = #{source}
			</if>

		</where>
	</sql>

	<resultMap id="orderResultMap" type="com.zpark.pojo.OrderVO">
		<id column="id" jdbcType="INTEGER" property="id" />
		<result column="orderno" jdbcType="VARCHAR" property="orderno" />
		<result column="submittime" jdbcType="TIMESTAMP"
			property="submittime" />
		<result column="userid" jdbcType="INTEGER" property="userid" />
		<result column="username" jdbcType="DOUBLE" property="username" />
		<result column="amount" jdbcType="DOUBLE" property="amount" />
		<result column="payment" jdbcType="VARCHAR" property="payment" />
		<result column="source" jdbcType="VARCHAR" property="source" />
		<result column="orderstatus" jdbcType="INTEGER"
			property="orderstatus" />
		<result column="receiver" jdbcType="VARCHAR"
			property="receiver" />
		<result column="tel" jdbcType="VARCHAR" property="tel" />
		<result column="receiverAddr" jdbcType="VARCHAR"
			property="receiveraddr" />
	</resultMap>

</mapper>